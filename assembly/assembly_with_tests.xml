<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd">
    <id>mta</id>
    <formats>
        <format>jar</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <files>
        <file>
            <source>../mtad.yaml</source>
            <outputDirectory>META-INF</outputDirectory>
        </file>
		<file>
            <source>../xs-security.json</source>
            <outputDirectory>.</outputDirectory>
        </file>
		<file>
            <source>../core-js/app_test.js</source>
            <outputDirectory>core-js</outputDirectory>
			<destName>app.js</destName>
        </file>
		<file>
            <source>../user-js/app_test.js</source>
            <outputDirectory>user-js</outputDirectory>
			<destName>app.js</destName>
        </file>
		<file>
            <source>../core-js/utils/initialize_test.js</source>
            <outputDirectory>core-js/utils</outputDirectory>
			<destName>initialize.js</destName>
        </file>
		<file>
            <source>../user-js/utils/initialize_test.js</source>
            <outputDirectory>user-js/utils</outputDirectory>
			<destName>initialize.js</destName>
        </file>
    </files>
    <fileSets>
        <fileSet>
            <directory>../web</directory>
            <outputDirectory>web</outputDirectory>
            <excludes>
                <exclude>node/</exclude>
                <exclude>target/</exclude>
                <exclude>etc/</exclude>
                <exclude>pom.xml</exclude>
            </excludes>
        </fileSet>
		<fileSet>
            <directory>../core-js</directory>
            <outputDirectory>core-js</outputDirectory>
            <excludes>
                <exclude>node/</exclude>
                <exclude>target/</exclude>
                <exclude>etc/</exclude>
                <exclude>pom.xml</exclude>
				<exclude>app_test.js</exclude>
				<exclude>app.js</exclude>
				<exclude>utils/initialize.js</exclude>
				<exclude>utils/initialize_test.js</exclude>
            </excludes>
        </fileSet>
		<fileSet>
            <directory>../user-js</directory>
            <outputDirectory>user-js</outputDirectory>
            <excludes>
                <exclude>node/</exclude>
                <exclude>target/</exclude>
                <exclude>etc/</exclude>
                <exclude>pom.xml</exclude>
				<exclude>app_test.js</exclude>
				<exclude>app.js</exclude>
				<exclude>utils/initialize.js</exclude>
				<exclude>utils/initialize_test.js</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>../core-db</directory>
            <outputDirectory>core-db</outputDirectory>
            <excludes>
                <exclude>node/</exclude>
                <exclude>target/</exclude>
                <exclude>etc/</exclude>
                <exclude>pom.xml</exclude>
            </excludes>
        </fileSet>
		<fileSet>
            <directory>../user-db</directory>
            <outputDirectory>user-db</outputDirectory>
            <excludes>
                <exclude>node/</exclude>
                <exclude>target/</exclude>
                <exclude>etc/</exclude>
                <exclude>pom.xml</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>../src/target</directory>
            <outputDirectory>web/resources/source</outputDirectory>
            <includes>
                <include>sap-xsac-shine-src-code.zip</include>
            </includes>
        </fileSet>
    </fileSets>
    <dependencySets>
        <dependencySet>
            <includes>
                <include>com.sap.refapps:sap-xsac-shine-user-java</include>
            </includes>
            <outputDirectory>/</outputDirectory>
            <outputFileNameMapping>sap-xsac-shine-user-java.war</outputFileNameMapping>
        </dependencySet>
    </dependencySets>
</assembly>
