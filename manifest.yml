---
applications:
- name: shine-polyglot-db
  path: db
  memory: 256M
  no-route: true
  services:
    - shine-hdi-container

- name: shine-polyglot-admin-backend
  host: shine-polyglot-admin-backend
  path: admin-js
  memory: 512M
  services:
    - shine-hdi-container

- name: shine-polyglot-admin
  host: shine-polyglot-admin
  path: admin-ui
  memory: 768M
  env:
    destinations: >
      [
        {"name":"admin-backend", "url":"http://shine-polyglot-admin-backend.cfapps.neo.ondemand.com"},
        {"name":"ui5", "url":"https://sapui5.hana.ondemand.com"}
      ]
  services:
    - uaa

- name: shine-polyglot-odata
  host: shine-polyglot-odata
  memory: 256M
  path: odata/target/shine-polyglot-odata.war
  buildpack: git://github.wdf.sap.corp/xs2-java/xs2javabuildpack.git
  services:
    - shine-hdi-container
  env:
    SERVICE_TO_JNDI_NAME_MAPPING: >
      {"shine-hdi-container":"jdbc/DefaultDB"}

- name: shine-polyglot-purchase
  host: shine-polyglot-purchase
  path: purchase-ui
  memory: 768M
  env:
    destinations: >
      [
        {"name":"purchase-backend", "url":"http://shine-polyglot-odata.cfapps.neo.ondemand.com/"},
        {"name":"purchase-xs-backend", "url":"http://shine-polyglot-xsjs.cfapps.neo.ondemand.com/"},
        {"name":"ui5", "url":"https://sapui5.hana.ondemand.com"}
      ]
  services:
    - uaa

- name: shine-polyglot-sales
  host: shine-polyglot-sales
  path: sales-ui
  memory: 768M
  env:
    destinations: >
      [
        {"name":"sales-backend", "url":"http://shine-polyglot-odata.cfapps.neo.ondemand.com/"},
        {"name":"sales-xs-backend", "url":"http://shine-polyglot-xsjs.cfapps.neo.ondemand.com/"},
        {"name":"ui5", "url":"https://sapui5.hana.ondemand.com"}
      ]
  services:
    - uaa