---
applications:
- name: shine-db
  path: db
  memory: 256M
  no-route: true
  services:
    - shine-hdi-container

- name: shine-admin-backend
  port: [dg-port]
  path: admin-js
  memory: 512M
  services:
    - shine-hdi-container
    - uaa-refapps

- name: shine-admin
  port: [admin-ui-port]
  path: admin-ui
  memory: 768M
  env:
    destinations: >
      [
        {"name":"admin-backend", "url":"http://[hostname]:[dg-port]", "forwardAuthToken": true},
        {"name":"ui5", "url":"https://sapui5.hana.ondemand.com","proxyHost":"proxy", "proxyPort":"8080"}
      ]
  services:
    - uaa-refapps

- name: shine-xsjs
  port: [xsjs-port]
  memory: 256M
  path: xsjs
  services:
    - shine-hdi-container
    - uaa-refapps
  env:
    HANA_SERVICE_NAME: shine-hdi-container
    UAA_SERVICE_NAME: uaa-refapps

- name: shine-purchase
  port: [purchase-ui-port]
  path: purchase-ui
  memory: 768M
  env:
    destinations: >
      [
        {"name":"xsjs-backend", "url":"http://[hostname]:[xsjs-port]", "forwardAuthToken": true},
        {"name":"ui5", "url":"https://sapui5.hana.ondemand.com","proxyHost":"proxy", "proxyPort":"8080"}
      ]
  services:
    - uaa-refapps
    
- name: shine-launchpad
  path: launchpad
  memory: 768M
  env:
    destinations: >
      [
        {"name":"xsjs-backend", "url":"http://[hostname]:[xsjs-port]", "forwardAuthToken": true},
        {"name":"ui-router", "url":"http://[hostname]:[router-port]", "forwardAuthToken": true},
        {"name":"ui5", "url":"https://sapui5.hana.ondemand.com","proxyHost":"proxy", "proxyPort":"8080"}
      ]
  services:
    - uaa-refapps

- name: shine-ui-router
  port: [router-port]
  path: ui-router
  memory: 256M
  env:
    ADMIN_UI: http://[hostname]:[admin-ui-port]
    PURCHASE_UI: http://[hostname]:[purchase-ui-port]
