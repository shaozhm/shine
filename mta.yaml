ID: shine
version: 1.1.5

modules:
- name: shine-admin-js
  type: nodejs
  path: /admin-js
  provides: 
      - name: admin-js
        properties:
          url: "${default-url}"
  requires:
      - name: uaa-refapps
      - name: shine-hdi-container
      - name: shine-db

- name: shine-db
  type: hdb
  path: /db
  requires:
  - name: shine-hdi-container

- name: shine-ui
  type: html5
  path: /ui
  requires:
      - name: uaa-refapps
      - name: admin-js
        group: destinations
        properties:
          name: admin-backend
          url: ~{url}
          forwardAuthToken: true 
      - name: purchase-xsjs
        group: destinations
        properties:
          name: xsjs-backend
          url: ~{url}
          forwardAuthToken: true 

- name: shine-xsjs
  type: nodejs
  path: /xsjs
  properties: 
      HANA_SERVICE_NAME: shine-hdi-container
      UAA_SERVICE_NAME: uaa-refapps
  provides: 
      - name: purchase-xsjs
        properties:
          url: "${default-url}"
  requires:
      - name: uaa-refapps
      - name: shine-hdi-container
      - name: shine-db

resources:
    - name: shine-hdi-container
      type: com.sap.xs.hdi-container

    - name: uaa-refapps
      type: com.sap.xs.uaa
      parameters:
        config_path: xs-security.json